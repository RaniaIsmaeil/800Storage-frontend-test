<section class="users">
  <div class="section-heading">
    <div>
      <p class="eyebrow">Users</p>
      <h1>User Directory</h1>
      <p class="subtitle">Browse the users list.</p>
    </div>
    <div class="page-chip" aria-hidden="true"></div>
  </div>

  <div class="loading-bar" *ngIf="isLoading()">
    <span></span>
  </div>

  <div class="status error" *ngIf="error()">{{ error() }}</div>

  <div class="card-grid" *ngIf="!isLoading() && !error()">
    <article class="user-card" *ngFor="let user of users()">
      <div class="avatar-wrap">
        <img [src]="user.avatar" [alt]="user.first_name + ' ' + user.last_name" />
      </div>
      <div class="card-body">
        <h2>{{ user.first_name }} {{ user.last_name }}</h2>
        <p class="meta">ID: {{ user.id }}</p>
        <p class="meta">{{ user.email }}</p>
        <a class="ghost" [routerLink]="['/users', user.id]" [queryParams]="{ page: page() }">View profile</a>
      </div>
    </article>
  </div>

  <div class="pagination" *ngIf="!isLoading()">
    <button type="button" class="primary" (click)="prevPage()" [disabled]="page() === 1 || isLoading()">
      Previous
    </button>
    <span class="page-info">Page {{ page() }} / {{ totalPages() }}</span>
    <button type="button" class="primary" (click)="nextPage()" [disabled]="page() === totalPages() || isLoading()">
      Next
    </button>
  </div>
</section>
